<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Faits Gaming Interdits</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  background:#0f1220;
  color:white;
  font-family:Arial;
  text-align:center;
  padding:40px;
}

h1 { color:#aab0ff; }

.game-media {
  width:100%;
  max-width:500px;
  border-radius:12px;
  margin:15px auto;
  display:block;
}

.gif { max-width:350px; }

button {
  padding:10px 20px;
  border-radius:8px;
  border:2px solid #aab0ff;
  background:transparent;
  color:#aab0ff;
  cursor:pointer;
  margin-top:20px;
}

button:hover {
  background:#aab0ff;
  color:#0f1220;
}
</style>
</head>

<body>

<h1>âš¡ Faits Gaming Interdits</h1>

<h2 id="gameTitle"></h2>

<img id="gameImage" class="game-media">
<img id="gameGif" class="game-media gif">

<div id="factText"></div>

<button id="nextBtn">Encore âš¡</button>

<script>

/* ========= JEUX PAR DÃ‰FAUT ========= */

const defaultGames = [
  {
    title: "Skyrim",
    image: "images/skyrim.jpg",
    gif: "images/skyrim-giant.gif",
    facts: [
      "Les gÃ©ants pouvaient projeter les joueurs.",
      "La scÃ¨ne dâ€™intro est cÃ©lÃ¨bre pour ses bugs.",
      "La salle qasmoke contient tous les objets."
    ]
  }
];

/* ========= CHARGEMENT ========= */

let games = JSON.parse(localStorage.getItem("games"));

if (!games || games.length === 0) {
  games = defaultGames;
  localStorage.setItem("games", JSON.stringify(games));
}

let lastIndex = -1;

/* ========= AFFICHAGE ========= */

function newFact() {

  if (games.length === 0) return;

  let randomIndex;

  if (games.length === 1) {
    randomIndex = 0;
  } else {
    do {
      randomIndex = Math.floor(Math.random() * games.length);
    } while (randomIndex === lastIndex);
  }

  lastIndex = randomIndex;

  const game = games[randomIndex];

  document.getElementById("gameTitle").textContent = "ðŸŽ® " + game.title;
  document.getElementById("gameImage").src = game.image;
  document.getElementById("gameGif").src = game.gif;

  document.getElementById("factText").innerHTML =
    `<ul style="list-style:none; padding:0;">
      ${game.facts.map(f => `<li style="margin:15px 0;">âš¡ ${f}</li>`).join("")}
     </ul>`;
}

document.getElementById("nextBtn").addEventListener("click", newFact);

newFact();

</script>

</body>
</html>
